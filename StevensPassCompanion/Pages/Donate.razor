@page "/donate"

<PageTitle>Stevens Pass Companion - Donate</PageTitle>

<MudBreadcrumbs Items="breadcrumbs"></MudBreadcrumbs>
<MudGrid>
    <MudItem xs="12">
        <MudText Typo="Typo.h4">Donate</MudText>
    </MudItem>
    <MudItem xs="12">
        <MudText Typo="Typo.body1">Stevens Pass Companion is built in our spare time and donations are appreciated!</MudText>
    </MudItem>
    <MudItem xs="12">
        <MudFab StartIcon="@Icons.Material.Filled.Payment"
                Label="Venmo &commat;StevensPassCompanion"
                OnClick="@(e => BrowserOpen("Venmo"))"
                Value="Venmo" />
    </MudItem>
    <MudItem xs="12">
        <MudFab StartIcon="@Icons.Material.Filled.Payment"
                Label="Paypal &commat;StevensPassCompanion"
                OnClick="@(e => BrowserOpen("Paypal"))"
                Value="Venmo" />
    </MudItem>
    <MudItem xs="12">
        <MudText Typo="Typo.h6">All donations will help:</MudText>
    </MudItem>
    <MudItem xs="12">
        <MudList Clickable="false" Dense="true" DisableGutters="true" T="string">
            <MudListItem Text="Cover development costs" Icon="@Icons.Material.Filled.Check" />
            <MudListItem Text="Implement new features" Icon="@Icons.Material.Filled.Check" />
            <MudListItem Text="Fix issues" Icon="@Icons.Material.Filled.Check" />
            <MudListItem Text="Continuous deployment" Icon="@Icons.Material.Filled.Check" />
        </MudList>
    </MudItem>
    <MudItem xs="12">
        <MudText Typo="Typo.body1">Thank you for your support! SPKA!</MudText>
    </MudItem>
</MudGrid>


@code {

    private List<BreadcrumbItem> breadcrumbs = new List<BreadcrumbItem>
    {
        new BreadcrumbItem("Home", href: "/"),
        new BreadcrumbItem("About", href: "/about"),
        new BreadcrumbItem("Donate", href: null, disabled: true),
    };

    private async void BrowserOpen(string donateType)
    {
        try
        {
            string url = string.Empty;

            if(donateType.Equals("Venmo"))
            {
                url = "https://www.venmo.com/u/StevensPassCompanion";
            }
            else if (donateType.Equals("Paypal"))
            {
                url = "https://www.paypal.me/StevensPassCompanion";
            }

            if(!String.IsNullOrEmpty(url))
            {
                Uri uri = new Uri(url);
  
            }
            else
            {
                // TODO Add UI Message For User
            }

        }
        catch (Exception ex)
        {
            // TODO Add logging
            // An unexpected error occurred. No browser may be installed on the device.
        }
    }

}